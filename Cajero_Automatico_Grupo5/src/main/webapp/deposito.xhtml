<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      lang="es">

<ui:composition template="template.xhtml">
    <ui:define name="title">Realizar Depósito</ui:define>

    <ui:define name="content">
        <div class="deposito-container">
            <div class="header">
                <h1>Realizar Depósito</h1>
                <p>Cuenta: #{cajeroBean.clienteActual.numeroCuenta}</p>
            </div>

            <div class="two-columns">
                <div class="column-left">
                    <div class="detalles">
                        <h3>Información Actual</h3>
                        <p><strong>Cliente:</strong> #{cajeroBean.clienteActual.nombre}</p>
                        <p><strong>Saldo Actual:</strong> #{cajeroBean.formatoMoneda(cajeroBean.clienteActual.saldo)}</p>
                        <p><strong>Límite de Depósito:</strong> L. 50,000.00</p>
                        <p><strong>Fecha:</strong> #{cajeroBean.fechaActual}</p>
                    </div>
                </div>

                <div class="column-right">
                    <h:form>
                        <div class="form-group">
                            <label>Monto a Depositar (L.):</label>
                            <h:inputText value="#{cajeroBean.montoTransaccion}"
                                         id="montoTransaccion"
                                         required="true"
                                         requiredMessage="El monto es requerido"
                                         converter="jakarta.faces.Double"
                                         styleClass="monto-input" />
                        </div>

                        <h3>Montos Rápidos</h3>
                        <div class="botones-rapidos">
                            <button type="button" onclick="setMonto(100)">L. 100</button>
                            <button type="button" onclick="setMonto(500)">L. 500</button>
                            <button type="button" onclick="setMonto(1000)">L. 1,000</button>
                            <button type="button" onclick="setMonto(5000)">L. 5,000</button>
                        </div>

                        <h:commandButton value="Realizar Depósito" action="#{cajeroBean.realizarDeposito}"
                                         styleClass="btn btn-large btn-success" />
                        <h:button outcome="menu" value="Volver al Menú" styleClass="btn btn-large" />
                    </h:form>
                </div>
            </div>

            <div class="mensaje #{cajeroBean.tipoMensaje}"
                 rendered="#{not empty cajeroBean.mensaje}">
                #{cajeroBean.mensaje}
            </div>
        </div>

        <script>
            function setMonto(monto) {
                var input = document.querySelector('input[id$="montoTransaccion"]');
                if (input) input.value = monto;
            }
        </script>
    </ui:define>
</ui:composition>
</html>